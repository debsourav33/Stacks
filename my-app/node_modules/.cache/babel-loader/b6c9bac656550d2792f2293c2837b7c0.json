{"ast":null,"code":"import axios from \"axios\";\nimport AuthenticationService from \"../../components/shared/AuthenticationService\";\nexport default class HeapOverFlowService {\n  constructor() {\n    this.interceptorInitialized = false;\n\n    if (!this.interceptorInitialized) {\n      this.setupAxiosInterceptor(HeapOverFlowService.authenticationUserName, HeapOverFlowService.authenticationPassword);\n    }\n  }\n\n  setupAxiosInterceptor(username, password) {\n    let basicAuthHeader = \"Basic \" + window.btoa(username + ':' + password);\n    axios.interceptors.request.use(config => {\n      if (AuthenticationService.isLoggedIn()) {\n        //config.headers.authorization = basicAuthHeader;\n        this.interceptorInitialized = true;\n        console.log(\"Basic Auth Set\");\n      }\n\n      return config;\n    }, null, {\n      synchronous: true\n    });\n    console.log(\"Basic Auth Inclusion Performed\");\n  }\n\n  retrieveAllQuestions() {\n    return axios.get(HeapOverFlowService.questionUrl);\n  }\n\n  deleteQuestion(id) {\n    let user = AuthenticationService.getLoggedInUserName();\n    let url = HeapOverFlowService.baseUrl + \"/\" + user + \"/questions/\" + id;\n    console.log(`Hitting: ${url}`);\n    return axios.delete(url);\n  }\n\n  postQuestion(question) {\n    let user = AuthenticationService.getLoggedInUserName();\n    let url = HeapOverFlowService.baseUrl + \"/\" + user + \"/questions\";\n    console.log(`Hitting: ${url}`);\n    return axios.post(url, question);\n  }\n\n}\nHeapOverFlowService.baseUrl = \"http://localhost:8080\";\nHeapOverFlowService.questionUrl = HeapOverFlowService.baseUrl + \"/questions\";\nHeapOverFlowService.authenticationUserName = \"heaps\";\nHeapOverFlowService.authenticationPassword = \"go123\";","map":{"version":3,"sources":["C:/Users/sourav.deb/Stacks/my-app/src/api/heapoverflow/HeapOverFlowService.js"],"names":["axios","AuthenticationService","HeapOverFlowService","constructor","interceptorInitialized","setupAxiosInterceptor","authenticationUserName","authenticationPassword","username","password","basicAuthHeader","window","btoa","interceptors","request","use","config","isLoggedIn","console","log","synchronous","retrieveAllQuestions","get","questionUrl","deleteQuestion","id","user","getLoggedInUserName","url","baseUrl","delete","postQuestion","question","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,MAAkC,+CAAlC;AAEA,eAAe,MAAMC,mBAAN,CAAyB;AAQpCC,EAAAA,WAAW,GAAE;AAAA,SAFbC,sBAEa,GAFY,KAEZ;;AACT,QAAG,CAAC,KAAKA,sBAAT,EAAgC;AAC5B,WAAKC,qBAAL,CAA2BH,mBAAmB,CAACI,sBAA/C,EAAsEJ,mBAAmB,CAACK,sBAA1F;AACH;AACJ;;AAEDF,EAAAA,qBAAqB,CAACG,QAAD,EAAWC,QAAX,EAAoB;AACrC,QAAIC,eAAe,GAAG,WAAWC,MAAM,CAACC,IAAP,CAAYJ,QAAQ,GAAG,GAAX,GAAiBC,QAA7B,CAAjC;AACAT,IAAAA,KAAK,CAACa,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACKC,MAAD,IAAY;AACR,UAAGf,qBAAqB,CAACgB,UAAtB,EAAH,EAAsC;AAClC;AACA,aAAKb,sBAAL,GAA8B,IAA9B;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH;;AAED,aAAOH,MAAP;AACH,KATL,EASO,IATP,EASa;AAAEI,MAAAA,WAAW,EAAE;AAAf,KATb;AAWAF,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACH;;AAEDE,EAAAA,oBAAoB,GAAE;AAClB,WAAOrB,KAAK,CAACsB,GAAN,CAAUpB,mBAAmB,CAACqB,WAA9B,CAAP;AACH;;AAEDC,EAAAA,cAAc,CAACC,EAAD,EAAI;AACd,QAAIC,IAAI,GAAGzB,qBAAqB,CAAC0B,mBAAtB,EAAX;AACA,QAAIC,GAAG,GAAG1B,mBAAmB,CAAC2B,OAApB,GAA8B,GAA9B,GAAoCH,IAApC,GAA2C,aAA3C,GAA0DD,EAApE;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAa,YAAWS,GAAI,EAA5B;AACA,WAAO5B,KAAK,CAAC8B,MAAN,CAAaF,GAAb,CAAP;AACH;;AAEDG,EAAAA,YAAY,CAACC,QAAD,EAAU;AAClB,QAAIN,IAAI,GAAGzB,qBAAqB,CAAC0B,mBAAtB,EAAX;AACA,QAAIC,GAAG,GAAG1B,mBAAmB,CAAC2B,OAApB,GAA8B,GAA9B,GAAoCH,IAApC,GAA2C,YAArD;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAa,YAAWS,GAAI,EAA5B;AACA,WAAO5B,KAAK,CAACiC,IAAN,CAAWL,GAAX,EAAeI,QAAf,CAAP;AACH;;AA9CmC;AAAnB9B,mB,CACV2B,O,GAAU,uB;AADA3B,mB,CAEVqB,W,GAAcrB,mBAAmB,CAAC2B,OAApB,GAA8B,Y;AAFlC3B,mB,CAGVI,sB,GAAyB,O;AAHfJ,mB,CAIVK,sB,GAAyB,O","sourcesContent":["import axios from \"axios\"\r\nimport AuthenticationService from \"../../components/shared/AuthenticationService\";\r\n\r\nexport default class HeapOverFlowService{\r\n    static baseUrl = \"http://localhost:8080\"\r\n    static questionUrl = HeapOverFlowService.baseUrl + \"/questions\"\r\n    static authenticationUserName = \"heaps\";\r\n    static authenticationPassword = \"go123\";\r\n\r\n    interceptorInitialized = false;\r\n\r\n    constructor(){\r\n        if(!this.interceptorInitialized){\r\n            this.setupAxiosInterceptor(HeapOverFlowService.authenticationUserName,HeapOverFlowService.authenticationPassword);\r\n        }\r\n    }\r\n\r\n    setupAxiosInterceptor(username, password){\r\n        let basicAuthHeader = \"Basic \" + window.btoa(username + ':' + password);\r\n        axios.interceptors.request.use(\r\n            (config) => {\r\n                if(AuthenticationService.isLoggedIn()){\r\n                    //config.headers.authorization = basicAuthHeader;\r\n                    this.interceptorInitialized = true;\r\n                    console.log(\"Basic Auth Set\");\r\n                }\r\n                \r\n                return config;\r\n            }, null, { synchronous: true }\r\n        );\r\n        console.log(\"Basic Auth Inclusion Performed\");\r\n    }\r\n\r\n    retrieveAllQuestions(){\r\n        return axios.get(HeapOverFlowService.questionUrl);\r\n    }\r\n\r\n    deleteQuestion(id){\r\n        let user = AuthenticationService.getLoggedInUserName();\r\n        let url = HeapOverFlowService.baseUrl + \"/\" + user + \"/questions/\"+ id;\r\n        console.log(`Hitting: ${url}`);\r\n        return axios.delete(url);\r\n    }\r\n\r\n    postQuestion(question){\r\n        let user = AuthenticationService.getLoggedInUserName();\r\n        let url = HeapOverFlowService.baseUrl + \"/\" + user + \"/questions\";\r\n        console.log(`Hitting: ${url}`);\r\n        return axios.post(url,question);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}